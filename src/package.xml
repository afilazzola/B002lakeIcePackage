<?xml version="1.0" encoding="utf-8"?>

<package 
    name="lakeIcePrediction" 
    displayName="Lake Ice Prediction" 
    version="1.0.0"
    description="Predicts lake ice phenology and generates visualization plots" 
    minSyncroSimVersion="3.0.0">

    <!--Scenario Level-->
    <dataSheet name="RunControl" displayName="Run Control" isSingleRow="True">
        <column name="MinTimestep" dataType="Integer" displayName="Start year"/>
        <column name="MaxTimestep" dataType="Integer" displayName="End year"/>
        <column name="StudyAreaShapefile" dataType="String" displayName="Study area shapefile" isExternalFile="True"/>
    </dataSheet>

    <!--Output-->
    <dataSheet name="PlotOutputs" displayName="Visualization Plots">
        <column name="PlotType" dataType="String" displayName="Plot type"/>
        <column name="PlotFile" dataType="String" displayName="Plot file" isExternalFile="True" isImage="True"/>
    </dataSheet>

    <!--Transformer-->
    <transformer 
        name="PredictLakeIce" 
        displayName="Generate Lake Ice Plots" 
        programName="Rscript" 
        programArguments="predictLakeIce.R">
        <dataSheet name="RunControl" type="Input"/>
        <dataSheet name="PlotOutputs" type="Output"/>
    </transformer>

    <!--Scenario Layout-->
    <layout type="Scenario">
        <item name="RunControl"/>
    </layout>

    <!--Image Layout-->
  <layout type="Image">	
        <item name="IceOnHistogram" displayName="Ice On Day Histogram" dataSheet="PlotOutputs" column="PlotFile"/>
        <item name="IceOffHistogram" displayName="Ice Off Day Histogram" dataSheet="PlotOutputs" column="PlotFile"/>
        <item name="MapIceOn" displayName="Map - Average Ice On Day" dataSheet="PlotOutputs" column="PlotFile"/>
        <item name="MapIceOff" displayName="Map - Average Ice Off Day" dataSheet="PlotOutputs" column="PlotFile"/>
    </layout>

  
        
</package>